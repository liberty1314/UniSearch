我来帮您分析项目并制定前端开发计划。首先让我分析当前项目的后端API端点和UI设计规范。

Read file: docs/ui.json
Read file: api/handler.go
Read file: api/handler.go
Read file: api/router.go
Read file: model/request.go
Read file: model/response.go
基于我对项目的分析，现在为您制定详细的前端开发计划：

# 🚀 PanSou 前端开发计划

## 1. 项目分析总结

### 1.1 后端API端点
- **搜索接口**: `GET/POST /api/search` - 核心搜索功能
- **健康检查**: `GET /api/health` - 系统状态和插件信息

### 1.2 搜索参数结构
- **必需参数**: `kw` (搜索关键词)
- **可选参数**: 
  - `channels` (TG频道列表)
  - `plugins` (插件列表)
  - `cloud_types` (网盘类型过滤)
  - `src` (数据来源: all/tg/plugin)
  - `res` (结果类型: all/results/merge)
  - `refresh` (强制刷新)
  - `ext` (扩展参数，支持title_en等)

### 1.3 响应数据结构
- **搜索结果**: 包含标题、内容、链接、时间、来源等
- **网盘类型分组**: 按百度网盘、阿里云盘等类型分组展示
- **支持12种网盘类型**: baidu, aliyun, quark, tianyi, uc, mobile, 115, pikpak, xunlei, 123, magnet, ed2k

## 2. 前端页面架构

### 2.1 核心页面设计

#### 🏠 **首页 (Home Page)**
- **功能**: 搜索入口、系统状态展示、快速搜索
- **布局**: Hero区域 + 搜索框 + 系统状态卡片
- **交互**: 关键词输入、快速搜索、高级搜索入口

#### 🔍 **搜索页面 (Search Page)**
- **功能**: 搜索结果展示、筛选、懒加载
- **布局**: 搜索框 + 筛选器 + 结果列表 + 懒加载指示器
- **交互**: 实时搜索、结果筛选、链接复制、滚动懒加载

#### ⚙️ **设置页面 (Settings Page)**
- **功能**: 插件配置、频道设置、搜索偏好
- **布局**: 选项卡式布局 + 配置表单
- **交互**: 插件开关、参数调整、配置保存

#### 📊 **状态页面 (Status Page)**
- **功能**: 系统健康状态、插件信息、性能指标
- **布局**: 状态卡片 + 插件列表 + 性能图表
- **交互**: 实时监控、状态刷新、详细信息

### 2.2 组件设计

#### **核心组件**
- **SearchBox**: 智能搜索输入框，支持历史记录
- **ResultCard**: 搜索结果卡片，支持展开/收起
- **FilterPanel**: 筛选面板，支持多维度筛选
- **StatusIndicator**: 状态指示器，显示系统健康度
- **PluginManager**: 插件管理组件，显示插件状态
- **LazyLoadTrigger**: 懒加载触发器，滚动到底部时自动加载更多

#### **布局组件**
- **Header**: 固定顶部导航栏
- **Sidebar**: 侧边栏导航（移动端可折叠）
- **Footer**: 页脚信息
- **Container**: 响应式容器组件

## 3. 技术栈选择

### 3.1 前端框架
- **框架**: React 18 + TypeScript
- **状态管理**: Zustand (轻量级状态管理)
- **路由**: React Router v6
- **样式**: Tailwind CSS + CSS Modules
- **构建工具**: Vite

### 3.2 UI组件库
- **基础组件**: 基于设计规范自建组件库
- **图标**: Lucide React (轻量级图标库)
- **动画**: Framer Motion (流畅动画效果)

### 3.3 工具库
- **HTTP客户端**: Axios + 请求拦截器
- **表单处理**: React Hook Form + Zod验证
- **工具函数**: date-fns, clsx, tailwind-merge
- **懒加载**: React Intersection Observer + 自定义懒加载Hook

## 4. 文件结构设计

```
frontend/
├── components/           # 可复用组件
│   ├── ui/              # 基础UI组件
│   ├── layout/          # 布局组件
│   ├── search/          # 搜索相关组件
│   └── status/          # 状态相关组件
├── pages/               # 页面组件
│   ├── Home.tsx         # 首页
│   ├── Search.tsx       # 搜索页
│   ├── Settings.tsx     # 设置页
│   └── Status.tsx       # 状态页
├── hooks/               # 自定义Hooks
│   ├── useSearch.ts     # 搜索逻辑
│   ├── useApi.ts        # API调用
│   ├── useLocalStorage.ts # 本地存储
│   └── useLazyLoad.ts   # 懒加载逻辑
├── services/            # API服务
│   ├── api.ts           # API接口定义
│   └── searchService.ts # 搜索服务
├── stores/              # 状态管理
│   ├── searchStore.ts   # 搜索状态
│   └── settingsStore.ts # 设置状态
├── types/               # TypeScript类型定义
│   ├── api.ts           # API类型
│   └── ui.ts            # UI组件类型
├── utils/               # 工具函数
│   ├── constants.ts     # 常量定义
│   ├── helpers.ts       # 辅助函数
│   └── validators.ts    # 验证函数
└── styles/              # 样式文件
    ├── globals.css      # 全局样式
    └── components.css   # 组件样式
```

## 5. 开发步骤规划

### 阶段1: 项目初始化 (1-2天)
1. 创建React + TypeScript项目
2. 配置Tailwind CSS和基础工具
3. 设置项目结构和路由

### 阶段2: 核心组件开发 (3-4天)
1. 开发基础UI组件库
2. 实现搜索框和结果卡片
3. 创建筛选器和状态指示器
4. 开发懒加载触发器和相关逻辑

### 阶段3: 页面开发 (4-5天)
1. 实现首页和搜索页面
2. 开发设置和状态页面
3. 集成API调用和状态管理
4. 实现懒加载搜索功能

### 阶段4: 功能完善 (2-3天)
1. 添加搜索历史记录
2. 实现结果排序和筛选
3. 优化懒加载性能和用户体验
4. 优化移动端体验

### 阶段5: 测试和优化 (2-3天)
1. 功能测试和Bug修复
2. 性能优化和代码重构
3. 响应式设计和兼容性测试
4. 懒加载性能测试和优化

## 6. 关键特性实现

### 6.1 智能搜索
- **实时搜索**: 输入时自动触发搜索
- **搜索建议**: 基于历史记录和热门搜索
- **高级筛选**: 支持插件、网盘类型、时间范围等

### 6.2 结果展示
- **网盘类型分组**: 按类型组织搜索结果
- **懒加载机制**: 滚动到底部自动加载更多结果
- **快速操作**: 一键复制链接、查看详情
- **响应式布局**: 适配各种屏幕尺寸

### 6.3 懒加载实现
- **滚动监听**: 使用Intersection Observer API
- **增量加载**: 每次加载固定数量的结果
- **加载状态**: 优雅的加载动画和进度指示
- **性能优化**: 虚拟滚动 + 懒加载结合

### 6.4 用户体验
- **加载状态**: 优雅的加载动画和进度指示
- **错误处理**: 友好的错误提示和重试机制
- **主题支持**: 支持明暗主题切换
- **无限滚动**: 流畅的懒加载体验

## 7. 设计规范遵循

### 7.1 Apple风格设计
- **简洁界面**: 遵循"内容优先"原则
- **精致细节**: 使用设计规范中的间距、圆角、阴影
- **流畅动画**: 基于设计规范的缓动函数和时长

### 7.2 响应式设计
- **移动优先**: 从移动端开始设计
- **断点策略**: 基于内容的响应式断点
- **触摸友好**: 44px最小触摸目标

## 8. 性能优化策略

### 8.1 加载优化
- **代码分割**: 按路由懒加载组件
- **图片优化**: WebP格式 + 懒加载
- **缓存策略**: 智能缓存搜索结果

### 8.2 运行时优化
- **懒加载搜索**: 滚动触发，避免一次性加载所有结果
- **防抖搜索**: 避免频繁API调用
- **状态优化**: 合理使用React.memo和useMemo
- **虚拟滚动**: 大量结果的高效渲染

### 8.3 懒加载性能优化
- **批量加载**: 每次加载合适数量的结果
- **内存管理**: 及时清理不需要的DOM元素
- **预加载**: 提前加载下一页数据
- **缓存策略**: 缓存已加载的结果，避免重复请求

---

## 🎯 开发计划总结

**总开发时间**: 约12-17天  
**核心功能**: 智能搜索、懒加载结果展示、系统监控  
**技术特点**: React + TypeScript + Tailwind CSS + 懒加载  
**设计风格**: Apple-inspired 简洁现代风格  
**响应式**: 移动优先，全平台适配  
**懒加载**: 滚动触发，性能优化，用户体验优先  

**主要更新**: 将分页改为懒加载模式，提供更流畅的无限滚动体验  
